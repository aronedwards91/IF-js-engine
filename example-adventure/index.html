<!DOCTYPE html>
<head>
  <style>
    .show-text {
      margin: 2rem;
      padding: 1rem;
      border: 2px solid black;
      border-radius: 10px;
      max-height: 10rem;
      overflow-y: scroll;
    }
  </style>
</head>
<body>
  <div class="show-text">
    <p id="text-print">Test</p>
  </div>
  <textarea id="textinput"></textarea>
  <p>hit Enter</p>
</body>
<script src="/index.js"></script>
<script defer>
  Promise.all(
    ["/info.json", "/items.json", "/rooms.json", "/states.json", "/triggers.json"].map((request) => {
      return fetch(request)
        .then((response) => {
          return response.json();
        })
        .then((data) => {
          return data;
        });
    })
  )
    .then(([info, items, rooms, states, triggers]) => {
      console.log("info", info);
    })
    .catch(console.error.bind(console));

  var wage = document.getElementById("textinput");
  wage.addEventListener("keydown", function (e) {
    if (e.code === "Enter") {
      //checks whether the pressed key is "Enter"
      validate(e);
    }
  });

  function validate(e) {
    var text = e.target.value;
    const textPrint = document.getElementById("text-print");
    textPrint.innerHTML = textPrint.innerHTML + "</br>" + text;

    const scroller = document.getElementsByClassName("show-text")[0];
    scroller.scrollIntoView(false);
    document.getElementById("textinput").value = "";
  }
</script>
